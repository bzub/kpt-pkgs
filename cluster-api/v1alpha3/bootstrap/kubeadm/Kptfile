apiVersion: kpt.dev/v1
kind: Kptfile
metadata:
  name: cluster-api-bootstrap-kubeadm
pipeline:
  mutators:
  - name: common-labels
    image: gcr.io/kpt-fn/set-labels:unstable
    configMap:
      clusterctl.cluster.x-k8s.io: ""
  - name: set-labels-clusterctl-lifecycle-shared
    image: gcr.io/kpt-fn/set-labels:unstable
    configMap:
      clusterctl.cluster.x-k8s.io/lifecycle: shared
    selectors:
      - namespace: capi-webhook-system
      - kind: CustomResourceDefinition
      - kind: ValidatingWebhookConfiguration
      - kind: MutatingWebhookConfiguration
