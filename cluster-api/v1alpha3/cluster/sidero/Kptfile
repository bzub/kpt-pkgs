apiVersion: kpt.dev/v1
kind: Kptfile
metadata:
  name: sidero-cluster
pipeline:
  mutators:
    - name: set-namespace
      image: gcr.io/kpt-fn/set-namespace:unstable
      configMap:
        namespace: default
    - name: apply-setters
      image: gcr.io/kpt-fn/apply-setters:unstable
      configMap:
        cluster-name: clustername
        control-plane-name: clustername-cp
        workers-name: clustername-workers
        talos-version: v0.14
        kubernetes-version: v1.20.15
        control-plane-endpoint-host: "127.0.0.1"
        control-plane-endpoint-port: "6443"
        pod-cidr: 10.244.0.0/16
        service-cidr: 10.96.0.0/12
